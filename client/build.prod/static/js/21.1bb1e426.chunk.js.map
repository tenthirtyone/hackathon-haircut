{"version":3,"sources":["components/product/product-create-dialog.js","components/product/products-filter.js","components/product/products-summary.js","components/product/product-menu.js","components/product/products-table.js","containers/products.js","icons/plus.js","icons/refresh.js","icons/question-mark-outlined.js","components/resource-error.js","components/resource-unavailable.js","icons/dots-vertical.js","components/date-field.js","icons/adjustments.js","utils/filter-operators.js","components/bulk-actions-menu.js","components/pagination.js","hooks/use-selection.js","hooks/use-filters.js","components/filter-dialog-item.js","components/filter-dialog.js","icons/search.js","components/query.js"],"names":["ProductCreateDialog","props","open","onClose","other","formik","useFormik","initialValues","description","name","submit","validationSchema","Yup","shape","max","required","onSubmit","values","helpers","a","toast","success","setStatus","setSubmitting","resetForm","err","console","error","setErrors","message","Dialog","TransitionProps","onExited","DialogTitle","DialogContent","Grid","container","spacing","item","xs","Boolean","touched","errors","fullWidth","helperText","label","onBlur","handleBlur","onChange","handleChange","value","multiline","rows","FormHelperText","DialogActions","Button","color","onClick","variant","disabled","isSubmitting","handleSubmit","defaultProps","views","filterProperties","type","filterOperators","equalOperator","notEqualOperator","containsOperator","notContainsOperator","startsWithOperator","endsWithOperator","greaterThanOperator","lessThanOperator","isAfterOperator","isBeforeOperator","isBlankOperator","isPresentOperator","ProductsFilter","filters","onFiltersApply","onFiltersClear","onQueryChange","onViewChange","query","selectedProducts","view","useState","openFilterDialog","setOpenFilterDialog","Box","sx","px","sm","Tabs","event","allowScrollButtonsMobile","map","option","Tab","Divider","alignItems","display","gap","gridTemplateColumns","length","justifyItems","p","onArchive","onDelete","selectedCount","order","startIcon","size","onApply","onClear","operators","properties","stats","content","icon","CheckCircleIcon","iconColor","XCircleIcon","CashIcon","ShoppingCartIcon","ProductsSummary","Card","mb","index","Icon","md","borderBottom","theme","palette","divider","borderRight","borderRadius","ml","Typography","ProductMenu","navigate","useNavigate","usePopover","anchorRef","handleOpen","handleClose","IconButton","ref","fontSize","Menu","anchorEl","current","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","columns","id","statusVariants","ProductsTable","isLoading","onPageChange","onSelect","onSelectAll","onSortChange","page","products","productsCount","sort","sortBy","displayLoading","displayError","displayUnavailable","flex","flexDirection","Table","minWidth","TableHead","TableRow","TableCell","padding","Checkbox","checked","indeterminate","column","TableSortLabel","active","direction","TableBody","product","statusVariant","find","status","hover","selected","selectedCustomer","Avatar","alt","src","image","width","height","Link","component","RouterLink","to","underline","mt","format","updatedAt","align","Skeleton","flexGrow","m","rowsCount","Products","mounted","useMounted","controller","setController","productsState","setProductsState","useSelection","data","handleSelect","handleSelectAll","openCreateDialog","setOpenCreateDialog","getProducts","useCallback","productApi","result","useEffect","catch","gtm","push","backgroundColor","Container","maxWidth","py","newFilters","parsedFilters","filter","property","operator","newQuery","newView","newPage","isAsc","Plus","createSvgIcon","xmlns","viewBox","fill","fillRule","d","clipRule","Refresh","QuestionMarkOutlined","className","stroke","strokeLinecap","strokeLinejoin","strokeWidth","ResourceErrorRoot","styled","neutral","justifyContent","ResourceError","onReload","ResourceUnavailableRoot","ResourceUnavailable","onCreate","DotsVertical","DateField","placeholder","renderInput","InputProps","rest","borderWidth","borderStyle","borderColor","boxShadow","transition","transitions","create","alpha","primary","main","lineHeight","disableUnderline","InputLabelProps","shrink","fontWeight","position","transform","Adjustments","typesAccepted","BulkActionsMenu","PaginationRoot","Pagination","pagesCount","Math","ceil","isFirstPage","isLastPage","whiteSpace","mx","selectedRows","setSelectedRows","rowId","prevSelectedRows","target","selectedRow","row","blankFilter","FilterDialogItem","onAddFilter","onRemoveFilter","onPropertyChange","onOperatorChange","onValueChange","pb","select","includes","date","mr","FilterDialog","initialFilters","setFilters","shouldApplyFilters","i","clearFilters","removeFilter","prevFilters","_","_index","addFilter","temp","splice","handlePropertyChange","filterIndex","selectedPropertyName","selectedProperty","handleOperatorChange","selectedOperatorValue","selectedOperator","handleValueChange","useFilters","PaperProps","my","textAlign","Chip","Search","QueryRoot","border","Query","autoFocus","setAutoFocus","inputRef","useRef","tempValue","setTempValue","focus","InputBase","inputProps","opacity","onFocus","onKeyUp","keyCode"],"mappings":"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","file":"static/js/21.1bb1e426.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport toast from 'react-hot-toast';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormHelperText,\n  Grid\n} from '@material-ui/core';\nimport { InputField } from '../input-field';\n\nexport const ProductCreateDialog = (props) => {\n  const { open, onClose, ...other } = props;\n  const formik = useFormik({\n    initialValues: {\n      description: '',\n      name: '',\n      submit: 'null'\n    },\n    validationSchema: Yup.object().shape({\n      description: Yup.string().max(500).required('Description is required'),\n      name: Yup.string().max(255).required('Name is required')\n    }),\n    onSubmit: async (values, helpers) => {\n      try {\n        toast.success('Product created');\n        helpers.setStatus({ success: true });\n        helpers.setSubmitting(false);\n        helpers.resetForm();\n        onClose?.();\n      } catch (err) {\n        console.error(err);\n        helpers.setStatus({ success: false });\n        helpers.setErrors({ submit: err.message });\n        helpers.setSubmitting(false);\n      }\n    }\n  });\n\n  return (\n    <Dialog\n      onClose={onClose}\n      open={open}\n      TransitionProps={{\n        onExited: () => formik.resetForm()\n      }}\n      {...other}\n    >\n      <DialogTitle>\n        Create Product\n      </DialogTitle>\n      <DialogContent>\n        <Grid\n          container\n          spacing={2}\n        >\n          <Grid\n            item\n            xs={12}\n          >\n            <InputField\n              error={Boolean(formik.touched.name && formik.errors.name)}\n              fullWidth\n              helperText={formik.touched.name && formik.errors.name}\n              label=\"Product name\"\n              name=\"name\"\n              onBlur={formik.handleBlur}\n              onChange={formik.handleChange}\n              value={formik.values.name}\n            />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n          >\n            <InputField\n              error={Boolean(formik.touched.description && formik.errors.description)}\n              fullWidth\n              helperText={formik.touched.description && formik.errors.description}\n              label=\"Description\"\n              multiline\n              name=\"description\"\n              onBlur={formik.handleBlur}\n              onChange={formik.handleChange}\n              rows={4}\n              value={formik.values.description}\n            />\n          </Grid>\n          {formik.errors.submit && (\n            <Grid\n              item\n              xs={12}\n            >\n              <FormHelperText error>\n                {formik.errors.submit}\n              </FormHelperText>\n            </Grid>\n          )}\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"primary\"\n          onClick={onClose}\n          variant=\"text\"\n        >\n          Cancel\n        </Button>\n        <Button\n          color=\"primary\"\n          disabled={formik.isSubmitting}\n          onClick={() => { formik.handleSubmit(); }}\n          variant=\"contained\"\n        >\n          Create Product\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nProductCreateDialog.defaultProps = {\n  open: false\n};\n\nProductCreateDialog.propTypes = {\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box, Button, Divider, Tab, Tabs } from '@material-ui/core';\nimport { Adjustments as AdjustmentsIcon } from '../../icons/adjustments';\nimport {\n  containsOperator,\n  endsWithOperator,\n  equalOperator,\n  greaterThanOperator,\n  isAfterOperator,\n  isBeforeOperator,\n  isBlankOperator,\n  isPresentOperator,\n  lessThanOperator,\n  notContainsOperator,\n  notEqualOperator,\n  startsWithOperator\n} from '../../utils/filter-operators';\nimport { BulkActionsMenu } from '../bulk-actions-menu';\nimport { FilterDialog } from '../filter-dialog';\nimport { Query } from '../query';\n\nconst views = [\n  {\n    label: 'All',\n    value: 'all'\n  },\n  {\n    label: 'Published',\n    value: 'published'\n  },\n  {\n    label: 'Draft',\n    value: 'draft'\n  },\n  {\n    label: 'Archived',\n    value: 'archived'\n  }\n];\n\nconst filterProperties = [\n  {\n    label: 'Name',\n    name: 'name',\n    type: 'string'\n  },\n  {\n    label: 'Updated At',\n    name: 'updatedAt',\n    type: 'date'\n  },\n  {\n    label: 'Status',\n    name: 'status',\n    type: 'string'\n  }\n];\n\nconst filterOperators = [\n  equalOperator,\n  notEqualOperator,\n  containsOperator,\n  notContainsOperator,\n  startsWithOperator,\n  endsWithOperator,\n  greaterThanOperator,\n  lessThanOperator,\n  isAfterOperator,\n  isBeforeOperator,\n  isBlankOperator,\n  isPresentOperator\n];\n\nexport const ProductsFilter = (props) => {\n  const {\n    disabled,\n    filters,\n    onFiltersApply,\n    onFiltersClear,\n    onQueryChange,\n    onViewChange,\n    query,\n    selectedProducts,\n    view\n  } = props;\n  const [openFilterDialog, setOpenFilterDialog] = useState(false);\n\n  return (\n    <>\n      <div>\n        <Box\n          sx={{\n            px: {\n              sm: 3\n            }\n          }}\n        >\n          <Tabs\n            onChange={(event, value) => onViewChange?.(value)}\n            allowScrollButtonsMobile\n            value={view}\n            variant=\"scrollable\"\n          >\n            {views.map((option) => (\n              <Tab\n                disabled={disabled}\n                key={option.label}\n                label={option.label}\n                value={option.value}\n              />\n            ))}\n          </Tabs>\n        </Box>\n        <Divider />\n        <Box\n          sx={{\n            alignItems: 'center',\n            display: 'grid',\n            gap: 2,\n            gridTemplateColumns: {\n              sm: selectedProducts.length > 0 ? 'auto 1fr auto' : '1fr auto',\n              xs: 'auto'\n            },\n            justifyItems: 'flex-start',\n            p: 3\n          }}\n        >\n          <BulkActionsMenu\n            disabled={disabled}\n            onArchive={() => { }}\n            onDelete={() => { }}\n            selectedCount={selectedProducts.length}\n            sx={{\n              display: selectedProducts.length > 0 ? 'flex' : 'none',\n              order: {\n                sm: 1,\n                xs: 2\n              }\n            }}\n          />\n          <Query\n            disabled={disabled}\n            onChange={onQueryChange}\n            sx={{\n              order: {\n                sm: 2,\n                xs: 1\n              }\n            }}\n            value={query}\n          />\n          <Button\n            color=\"primary\"\n            disabled={disabled}\n            onClick={() => setOpenFilterDialog(true)}\n            startIcon={<AdjustmentsIcon />}\n            size=\"large\"\n            sx={{ order: 3 }}\n            variant={filters.length ? 'contained' : 'text'}\n          >\n            Filter\n          </Button>\n        </Box>\n      </div>\n      <FilterDialog\n        onApply={onFiltersApply}\n        onClear={onFiltersClear}\n        onClose={() => setOpenFilterDialog(false)}\n        open={openFilterDialog}\n        operators={filterOperators}\n        properties={filterProperties}\n      />\n    </>\n  );\n};\n\nProductsFilter.defaultProps = {\n  filters: [],\n  selectedProducts: [],\n  view: 'all'\n};\n\nProductsFilter.propTypes = {\n  disabled: PropTypes.bool,\n  filters: PropTypes.array,\n  onFiltersApply: PropTypes.func,\n  onFiltersClear: PropTypes.func,\n  onQueryChange: PropTypes.func,\n  onViewChange: PropTypes.func,\n  query: PropTypes.string,\n  selectedProducts: PropTypes.array,\n  view: PropTypes.string\n};\n","import { Box, Card, Grid, Typography } from '@material-ui/core';\nimport { Cash as CashIcon } from '../../icons/cash';\nimport { CheckCircle as CheckCircleIcon } from '../../icons/check-circle';\nimport { ShoppingCart as ShoppingCartIcon } from '../../icons/shopping-cart';\nimport { XCircle as XCircleIcon } from '../../icons/x-circle';\n\n// NOTE: This should be generated based on products data\nconst stats = [\n  {\n    content: '5,000',\n    icon: CheckCircleIcon,\n    iconColor: 'success.main',\n    label: 'Total Stock'\n  },\n  {\n    content: '15',\n    icon: XCircleIcon,\n    iconColor: 'warning.main',\n    label: 'OUT OF STOCK ITEMS'\n  },\n  {\n    content: '$ 25,200.00',\n    icon: CashIcon,\n    iconColor: 'primary.main',\n    label: 'Retail Value'\n  },\n  {\n    content: '$ 8,250.00',\n    icon: ShoppingCartIcon,\n    iconColor: 'secondary.main',\n    label: 'Unrealized Profit'\n  }\n];\n\nexport const ProductsSummary = () => (\n  <Card\n    sx={{ mb: 3 }}\n    variant=\"outlined\"\n  >\n    <Grid container>\n      {stats.map((item, index) => {\n        const { icon: Icon, iconColor, content, label } = item;\n\n        return (\n          <Grid\n            item\n            key={item.label}\n            md={3}\n            sm={6}\n            sx={{\n              borderBottom: (theme) => ({\n                md: 0,\n                sm: stats.length > index + 2 ? `1px solid ${theme.palette.divider}` : 0,\n                xs: stats.length > index + 1 ? `1px solid ${theme.palette.divider}` : 0\n              }),\n              borderRight: (theme) => ({\n                md: stats.length > index + 1 ? `1px solid ${theme.palette.divider}` : 0,\n                xs: 0\n              })\n            }}\n            xs={12}\n          >\n            <Box\n              sx={{\n                alignItems: 'center',\n                borderRadius: 1,\n                display: 'flex',\n                p: 2\n              }}\n            >\n              <Icon sx={{ color: iconColor || 'text.secondary' }} />\n              <Box sx={{ ml: 2 }}>\n                <Typography\n                  color=\"textSecondary\"\n                  variant=\"overline\"\n                >\n                  {label}\n                </Typography>\n                <Typography\n                  color=\"textPrimary\"\n                  variant=\"h6\"\n                >\n                  {content}\n                </Typography>\n              </Box>\n            </Box>\n          </Grid>\n        );\n      })}\n    </Grid>\n  </Card>\n);\n","import { useNavigate } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { usePopover } from '../../hooks/use-popover';\nimport { DotsVertical as DotsVerticalIcon } from '../../icons/dots-vertical';\n\nexport const ProductMenu = (props) => {\n  const navigate = useNavigate();\n  const [anchorRef, open, handleOpen, handleClose] = usePopover();\n\n  const handleEdit = () => {\n    handleClose();\n    navigate('/dashboard/products/1');\n  };\n\n  const handleArchive = () => {\n    handleClose();\n    toast.error('This action is not available on demo');\n  };\n\n  const handleDelete = () => {\n    handleClose();\n    toast.error('This action is not available on demo');\n  };\n\n  return (\n    <>\n      <IconButton\n        onClick={handleOpen}\n        ref={anchorRef}\n        {...props}\n      >\n        <DotsVerticalIcon fontSize=\"small\" />\n      </IconButton>\n      <Menu\n        anchorEl={anchorRef.current}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right'\n        }}\n        open={open}\n        onClose={handleClose}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n      >\n        <MenuItem onClick={handleEdit}>\n          Edit\n        </MenuItem>\n        <MenuItem onClick={handleArchive}>\n          Archive\n        </MenuItem>\n        <MenuItem onClick={handleDelete}>\n          Delete\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n","import Proptypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport {\n  Avatar,\n  Box,\n  Checkbox,\n  Divider,\n  Link,\n  Skeleton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Typography\n} from '@material-ui/core';\nimport { Pagination } from '../pagination';\nimport { ResourceError } from '../resource-error';\nimport { ResourceUnavailable } from '../resource-unavailable';\nimport { Scrollbar } from '../scrollbar';\nimport { Status } from '../status';\nimport { ProductMenu } from './product-menu';\n\nconst columns = [\n  {\n    id: 'name',\n    label: 'Name'\n  },\n  {\n    id: 'updatedAt',\n    label: 'Updated'\n  },\n  {\n    id: 'status',\n    label: 'Status'\n  }\n];\n\nconst statusVariants = [\n  {\n    color: 'info.main',\n    label: 'Draft',\n    value: 'draft'\n  },\n  {\n    color: 'success.main',\n    label: 'Published',\n    value: 'published'\n  }\n];\n\nexport const ProductsTable = (props) => {\n  const {\n    error,\n    isLoading,\n    onPageChange,\n    onSelect,\n    onSelectAll,\n    onSortChange,\n    page,\n    products,\n    productsCount,\n    selectedProducts,\n    sort,\n    sortBy\n  } = props;\n\n  const displayLoading = isLoading;\n  const displayError = Boolean(!isLoading && error);\n  const displayUnavailable = Boolean(!isLoading && !error && !products.length);\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column'\n      }}\n    >\n      <Scrollbar>\n        <Table sx={{ minWidth: 800 }}>\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\">\n                <Checkbox\n                  checked={products.length > 0\n                  && selectedProducts.length === products.length}\n                  disabled={isLoading}\n                  indeterminate={selectedProducts.length > 0\n                  && selectedProducts.length < products.length}\n                  onChange={onSelectAll}\n                />\n              </TableCell>\n              {columns.map((column) => (\n                <TableCell key={column.id}>\n                  <TableSortLabel\n                    active={sortBy === column.id}\n                    direction={sortBy === column.id ? sort : 'asc'}\n                    disabled={isLoading}\n                    onClick={(event) => onSortChange(event, column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </TableCell>\n              ))}\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => {\n              const statusVariant = statusVariants.find((variant) => variant.value\n                === product.status);\n\n              return (\n                <TableRow\n                  hover\n                  key={product.id}\n                  selected={!!selectedProducts.find((selectedCustomer) => selectedCustomer\n                    === product.id)}\n                >\n                  <TableCell padding=\"checkbox\">\n                    <Checkbox\n                      checked={!!selectedProducts.find((selectedCustomer) => selectedCustomer\n                        === product.id)}\n                      onChange={(event) => onSelect(event, product.id)}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <Box\n                      sx={{\n                        alignItems: 'center',\n                        display: 'flex'\n                      }}\n                    >\n                      <Avatar\n                        alt={product.name}\n                        src={product.image}\n                        sx={{\n                          width: 64,\n                          height: 64\n                        }}\n                        variant=\"rounded\"\n                      />\n                      <Box sx={{ ml: 2 }}>\n                        <Link\n                          color=\"inherit\"\n                          component={RouterLink}\n                          sx={{ display: 'block' }}\n                          to=\"/dashboard/products/1\"\n                          underline=\"none\"\n                          variant=\"subtitle2\"\n                        >\n                          {product.name}\n                        </Link>\n                        <Typography\n                          color=\"textSecondary\"\n                          sx={{ mt: 1 }}\n                          variant=\"body2\"\n                        >\n                          12 in stock for 1 variant\n                        </Typography>\n                      </Box>\n                    </Box>\n                  </TableCell>\n                  <TableCell>\n                    <div>\n                      <Typography\n                        color=\"inherit\"\n                        variant=\"body2\"\n                      >\n                        {format(product.updatedAt, 'dd MMM yyyy')}\n                      </Typography>\n                      <Typography\n                        color=\"textSecondary\"\n                        variant=\"body2\"\n                      >\n                        {format(product.updatedAt, 'HH:mm')}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Status\n                      color={statusVariant.color}\n                      label={statusVariant.label}\n                    />\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ProductMenu />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Scrollbar>\n      {displayLoading && (\n        <Box sx={{ p: 2 }}>\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n          <Skeleton height={42} />\n        </Box>\n      )}\n      {displayError && (\n        <ResourceError\n          error={error}\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      {displayUnavailable && (\n        <ResourceUnavailable\n          sx={{\n            flexGrow: 1,\n            m: 2\n          }}\n        />\n      )}\n      <Divider sx={{ mt: 'auto' }} />\n      <Pagination\n        disabled={isLoading}\n        onPageChange={onPageChange}\n        page={page}\n        rowsCount={productsCount}\n      />\n    </Box>\n  );\n};\n\nProductsTable.defaultProps = {\n  page: 1,\n  products: [],\n  productsCount: 0,\n  selectedProducts: [],\n  sort: 'desc',\n  sortBy: 'createdAt'\n};\n\nProductsTable.propTypes = {\n  error: Proptypes.string,\n  isLoading: Proptypes.bool,\n  onPageChange: Proptypes.func,\n  onSelect: Proptypes.func,\n  onSelectAll: Proptypes.func,\n  onSortChange: Proptypes.func,\n  page: Proptypes.number,\n  products: Proptypes.array,\n  productsCount: Proptypes.number,\n  selectedProducts: Proptypes.array,\n  sort: Proptypes.oneOf(['asc', 'desc']),\n  sortBy: Proptypes.string\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Box, Button, Card, Container, Divider, Typography } from '@material-ui/core';\nimport { productApi } from '../api/product';\nimport { ProductCreateDialog } from '../components/product/product-create-dialog';\nimport { ProductsFilter } from '../components/product/products-filter';\nimport { ProductsSummary } from '../components/product/products-summary';\nimport { ProductsTable } from '../components/product/products-table';\nimport { useMounted } from '../hooks/use-mounted';\nimport { useSelection } from '../hooks/use-selection';\nimport { Plus as PlusIcon } from '../icons/plus';\nimport gtm from '../lib/gtm';\n\nexport const Products = () => {\n  const mounted = useMounted();\n  const [controller, setController] = useState({\n    filters: [],\n    page: 0,\n    query: '',\n    sort: 'desc',\n    sortBy: 'updatedAt',\n    view: 'all'\n  });\n  const [productsState, setProductsState] = useState({ isLoading: true });\n  const [\n    selectedProducts,\n    handleSelect,\n    handleSelectAll\n  ] = useSelection(productsState.data?.products);\n  const [openCreateDialog, setOpenCreateDialog] = useState(false);\n\n  const getProducts = useCallback(async () => {\n    setProductsState(() => ({ isLoading: true }));\n\n    try {\n      const result = await productApi.getProducts({\n        filters: controller.filters,\n        page: controller.page,\n        query: controller.query,\n        sort: controller.sort,\n        sortBy: controller.sortBy,\n        view: controller.view\n      });\n\n      if (mounted.current) {\n        setProductsState(() => ({\n          isLoading: false,\n          data: result\n        }));\n      }\n    } catch (err) {\n      console.error(err);\n\n      if (mounted.current) {\n        setProductsState(() => ({\n          isLoading: false,\n          error: err.message\n        }));\n      }\n    }\n  }, [controller]);\n\n  useEffect(() => {\n    getProducts().catch(console.error);\n  }, [controller]);\n\n  useEffect(() => {\n    gtm.push({ event: 'page_view' });\n  }, []);\n\n  const handleViewChange = (newView) => {\n    setController({\n      ...controller,\n      page: 0,\n      view: newView\n    });\n  };\n\n  const handleQueryChange = (newQuery) => {\n    setController({\n      ...controller,\n      page: 0,\n      query: newQuery\n    });\n  };\n\n  const handleFiltersApply = (newFilters) => {\n    const parsedFilters = newFilters.map((filter) => ({\n      property: filter.property.name,\n      value: filter.value,\n      operator: filter.operator.value\n    }));\n\n    setController({\n      ...controller,\n      page: 0,\n      filters: parsedFilters\n    });\n  };\n\n  const handleFiltersClear = () => {\n    setController({\n      ...controller,\n      page: 0,\n      filters: []\n    });\n  };\n\n  const handlePageChange = (newPage) => {\n    setController({\n      ...controller,\n      page: newPage - 1\n    });\n  };\n\n  const handleSortChange = (event, property) => {\n    const isAsc = controller.sortBy === property && controller.sort === 'asc';\n\n    setController({\n      ...controller,\n      page: 0,\n      sort: isAsc ? 'desc' : 'asc',\n      sortBy: property\n    });\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Product: List | Carpatin Dashboard</title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.default',\n          flexGrow: 1\n        }}\n      >\n        <Container\n          maxWidth=\"lg\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            height: '100%'\n          }}\n        >\n          <Box sx={{ py: 4 }}>\n            <Box\n              sx={{\n                alignItems: 'center',\n                display: 'flex'\n              }}\n            >\n              <Typography\n                color=\"textPrimary\"\n                variant=\"h4\"\n              >\n                Products\n              </Typography>\n              <Box sx={{ flexGrow: 1 }} />\n              <Button\n                color=\"primary\"\n                onClick={() => setOpenCreateDialog(true)}\n                size=\"large\"\n                startIcon={<PlusIcon fontSize=\"small\" />}\n                variant=\"contained\"\n              >\n                Add\n              </Button>\n            </Box>\n          </Box>\n          <ProductsSummary />\n          <Card\n            variant=\"outlined\"\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              flexGrow: 1\n            }}\n          >\n            <ProductsFilter\n              disabled={productsState.isLoading}\n              filters={controller.filters}\n              onFiltersApply={handleFiltersApply}\n              onFiltersClear={handleFiltersClear}\n              onQueryChange={handleQueryChange}\n              onViewChange={handleViewChange}\n              query={controller.query}\n              selectedProducts={selectedProducts}\n              view={controller.view}\n            />\n            <Divider />\n            <ProductsTable\n              error={productsState.error}\n              isLoading={productsState.isLoading}\n              onPageChange={handlePageChange}\n              onSelect={handleSelect}\n              onSelectAll={handleSelectAll}\n              onSortChange={handleSortChange}\n              page={controller.page + 1}\n              products={productsState.data?.products}\n              productsCount={productsState.data?.productsCount}\n              selectedProducts={selectedProducts}\n              sort={controller.sort}\n              sortBy={controller.sortBy}\n            />\n          </Card>\n        </Container>\n      </Box>\n      <ProductCreateDialog\n        onClose={() => setOpenCreateDialog(false)}\n        open={openCreateDialog}\n      />\n    </>\n  );\n};\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const Plus = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Plus'\n);\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const Refresh = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\"\n      fillRule=\"evenodd\"\n    />\n  </svg>, 'Refresh'\n);\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const QuestionMarkOutlined = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n  </svg>, 'QuestionMarkOutlined'\n);\n","import PropTypes from 'prop-types';\nimport { Button, Typography } from '@material-ui/core';\nimport { styled } from '@material-ui/core/styles';\nimport { ExclamationOutlined as ExclamationIcon } from '../icons/exclamation-outlined';\nimport { Refresh as RefreshIcon } from '../icons/refresh';\n\nconst ResourceErrorRoot = styled('div')(({ theme }) => ({\n  alignItems: 'center',\n  backgroundColor: theme.palette.neutral[100],\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  padding: theme.spacing(3)\n}));\n\nexport const ResourceError = (props) => {\n  const { error, onReload, ...other } = props;\n\n  return (\n    <ResourceErrorRoot {...other}>\n      <ExclamationIcon sx={{ color: 'text.secondary' }} />\n      <Typography\n        color=\"textSecondary\"\n        sx={{ mt: 2 }}\n        variant=\"body2\"\n      >\n        {error || 'Error loading data, please try again.'}\n      </Typography>\n      {onReload && (\n        <Button\n          color=\"primary\"\n          onClick={onReload}\n          startIcon={<RefreshIcon fontSize=\"small\" />}\n          sx={{ mt: 2 }}\n          variant=\"text\"\n        >\n          Reload Data\n        </Button>\n      )}\n    </ResourceErrorRoot>\n  );\n};\n\nResourceError.propTypes = {\n  error: PropTypes.string,\n  onReload: PropTypes.func\n};\n","import PropTypes from 'prop-types';\nimport { Button, Typography } from '@material-ui/core';\nimport { styled } from '@material-ui/core/styles';\nimport { Plus as PlusIcon } from '../icons/plus';\nimport { QuestionMarkOutlined as QuestionMarkIcon } from '../icons/question-mark-outlined';\n\nconst ResourceUnavailableRoot = styled('div')(({ theme }) => ({\n  alignItems: 'center',\n  backgroundColor: theme.palette.neutral[100],\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  padding: theme.spacing(3)\n}));\n\nexport const ResourceUnavailable = (props) => {\n  const { onCreate, ...other } = props;\n\n  return (\n    <ResourceUnavailableRoot {...other}>\n      <QuestionMarkIcon sx={{ color: 'text.secondary' }} />\n      <Typography\n        color=\"textSecondary\"\n        sx={{ mt: 2 }}\n        variant=\"body2\"\n      >\n        There are not objects here yet.\n      </Typography>\n      {onCreate && (\n        <Button\n          color=\"primary\"\n          onClick={onCreate}\n          startIcon={<PlusIcon fontSize=\"small\" />}\n          sx={{ mt: 2 }}\n          variant=\"contained\"\n        >\n          Create Object\n        </Button>\n      )}\n    </ResourceUnavailableRoot>\n  );\n};\n\nResourceUnavailable.propTypes = {\n  onCreate: PropTypes.func\n};\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const DotsVertical = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\" />\n  </svg>, 'DotsVertical'\n);\n","import PropTypes from 'prop-types';\nimport { TextField } from '@material-ui/core';\nimport { alpha } from '@material-ui/core/styles';\nimport DatePicker from '@material-ui/lab/DatePicker';\n\nexport const DateField = (props) => {\n  const {\n    error,\n    fullWidth,\n    helperText,\n    label,\n    onChange,\n    placeholder,\n    value,\n    name,\n    ...other\n  } = props;\n\n  return (\n    <DatePicker\n      onChange={onChange}\n      renderInput={({ InputProps, ...rest }) => (\n        <TextField\n          {...rest}\n          name={name}\n          error={error}\n          fullWidth={fullWidth}\n          helperText={helperText}\n          label={label}\n          placeholder={placeholder}\n          sx={{\n            '& .MuiFilledInput-root': {\n              backgroundColor: 'background.paper',\n              borderWidth: 1,\n              borderStyle: 'solid',\n              borderColor: 'neutral.300',\n              borderRadius: 1,\n              boxShadow: '0px 1px 2px 0px rgba(9, 30, 66, 0.08)',\n              px: 1.5,\n              py: 0.75,\n              transition: (theme) => theme.transitions.create([\n                'border-color',\n                'box-shadow'\n              ]),\n              '&:hover': {\n                backgroundColor: 'background.paper'\n              },\n              '&.Mui-focused': {\n                backgroundColor: 'background.paper',\n                boxShadow: (theme) => `${alpha(theme.palette.primary.main,\n                  0.25)} 0 0 0 0.2rem`\n              },\n              '& .MuiFilledInput-input': {\n                fontSize: 14,\n                height: 'unset',\n                lineHeight: 1.6,\n                p: 0\n              },\n              '&.Mui-disabled': {\n                backgroundColor: 'action.disabledBackground',\n                boxShadow: 'none',\n                borderColor: alpha('#D6DBE1', 0.5)\n              }\n            }\n          }}\n          variant=\"filled\"\n          InputProps={{\n            disableUnderline: true,\n            ...InputProps\n          }}\n          InputLabelProps={{\n            shrink: true,\n            sx: {\n              color: 'text.primary',\n              fontSize: 14,\n              fontWeight: 500,\n              mb: 0.5,\n              position: 'relative',\n              transform: 'none'\n            }\n          }}\n        />\n      )}\n      value={value}\n      {...other}\n    />\n  );\n};\n\nDateField.propTypes = {\n  error: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  helperText: PropTypes.string,\n  label: PropTypes.string,\n  name: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.instanceOf(Date)\n};\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const Adjustments = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Adjustments'\n);\n","export const equalOperator = {\n  label: 'equal',\n  typesAccepted: ['number', 'string'],\n  value: 'equal'\n};\n\nexport const notEqualOperator = {\n  label: 'not equal',\n  typesAccepted: ['number', 'string'],\n  value: 'notEqual'\n};\n\nexport const containsOperator = {\n  label: 'contains',\n  typesAccepted: ['string'],\n  value: 'contains'\n};\n\nexport const notContainsOperator = {\n  label: 'not contains',\n  typesAccepted: ['string'],\n  value: 'notContains'\n};\n\nexport const startsWithOperator = {\n  label: 'starts with',\n  typesAccepted: ['string'],\n  value: 'startsWith'\n};\n\nexport const endsWithOperator = {\n  label: 'ends with',\n  typesAccepted: ['string'],\n  value: 'endsWith'\n};\n\nexport const greaterThanOperator = {\n  label: 'greater than',\n  typesAccepted: ['number'],\n  value: 'greaterThan'\n};\n\nexport const lessThanOperator = {\n  label: 'less than',\n  typesAccepted: ['number'],\n  value: 'lessThan'\n};\n\nexport const isAfterOperator = {\n  label: 'is after',\n  typesAccepted: ['date'],\n  value: 'isAfter'\n};\n\nexport const isBeforeOperator = {\n  label: 'is before',\n  typesAccepted: ['date'],\n  value: 'isBefore'\n};\n\nexport const isBlankOperator = {\n  label: 'is blank',\n  typesAccepted: ['blank'],\n  value: 'isBlank'\n};\n\nexport const isPresentOperator = {\n  label: 'is present',\n  typesAccepted: ['blank'],\n  value: 'isPresent'\n};\n","import PropTypes from 'prop-types';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { usePopover } from '../hooks/use-popover';\nimport { ChevronDown as ChevronDownIcon } from '../icons/chevron-down';\n\nexport const BulkActionsMenu = (props) => {\n  const { disabled, onArchive, onDelete, selectedCount, ...other } = props;\n  const [anchorRef, open, handleOpen, handleClose] = usePopover();\n\n  const handleArchive = () => {\n    onArchive?.();\n    handleClose();\n  };\n\n  const handleDelete = () => {\n    onDelete?.();\n    handleClose();\n  };\n\n  return (\n    <>\n      <Button\n        color=\"primary\"\n        disabled={disabled}\n        onClick={handleOpen}\n        ref={anchorRef}\n        size=\"large\"\n        startIcon={<ChevronDownIcon />}\n        variant=\"outlined\"\n        {...other}\n      >\n        Bulk Actions\n      </Button>\n      <Menu\n        anchorEl={anchorRef.current}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right'\n        }}\n        open={open}\n        onClose={handleClose}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n      >\n        <MenuItem onClick={handleArchive}>\n          {`Archive Selected (${selectedCount})`}\n        </MenuItem>\n        <MenuItem onClick={handleDelete}>\n          {`Delete Selected (${selectedCount})`}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nBulkActionsMenu.propTypes = {\n  disabled: PropTypes.bool,\n  onArchive: PropTypes.func,\n  onDelete: PropTypes.func,\n  selectedCount: PropTypes.number\n};\n","import PropTypes from 'prop-types';\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport { styled } from '@material-ui/core/styles';\nimport { ChevronLeft as ChevronLeftIcon } from '../icons/chevron-left';\nimport { ChevronRight as ChevronRightIcon } from '../icons/chevron-right';\n\nconst PaginationRoot = styled('div')((({ theme }) => ({\n  alignItems: 'center',\n  display: 'flex',\n  padding: theme.spacing(2)\n})));\n\nexport const Pagination = (props) => {\n  const { disabled, onPageChange, page, rowsCount, ...other } = props;\n  // NOTE: Usually, this should be received from the server\n  const pageSize = 10;\n  const pagesCount = Math.ceil(rowsCount / pageSize);\n  const isFirstPage = page === 1;\n  const isLastPage = page >= pagesCount;\n\n  const handlePreviousPage = () => {\n    onPageChange?.(page - 1);\n  };\n\n  const handleNextPage = () => {\n    onPageChange?.(page + 1);\n  };\n\n  return (\n    <PaginationRoot {...other}>\n      {pagesCount > 0 && (\n        <Typography\n          color=\"textSecondary\"\n          sx={{\n            alignItems: 'center',\n            display: 'flex'\n          }}\n          variant=\"body2\"\n          whiteSpace=\"nowrap\"\n        >\n          Page\n          {' '}\n          <Typography\n            color=\"textPrimary\"\n            component=\"span\"\n            sx={{ mx: 1 }}\n            variant=\"subtitle2\"\n          >\n            {page}\n          </Typography>\n          of\n          {' '}\n          <Typography\n            color=\"textPrimary\"\n            component=\"span\"\n            sx={{ ml: 1 }}\n            variant=\"subtitle2\"\n          >\n            {pagesCount}\n          </Typography>\n        </Typography>\n      )}\n      <Box sx={{ flexGrow: 1 }} />\n      <IconButton\n        disabled={isFirstPage || disabled}\n        onClick={handlePreviousPage}\n      >\n        <ChevronLeftIcon />\n      </IconButton>\n      <IconButton\n        disabled={isLastPage || disabled}\n        onClick={handleNextPage}\n      >\n        <ChevronRightIcon />\n      </IconButton>\n    </PaginationRoot>\n  );\n};\n\nPagination.defaultProps = {\n  disabled: false,\n  page: 1,\n  rowsCount: 1\n};\n\nPagination.propTypes = {\n  disabled: PropTypes.bool,\n  onPageChange: PropTypes.func,\n  page: PropTypes.number,\n  rowsCount: PropTypes.number\n};\n","import { useState } from 'react';\n\nexport const useSelection = (rows) => {\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const handleSelect = (event, rowId) => {\n    setSelectedRows((prevSelectedRows) => {\n      if (event.target.checked) {\n        return [...prevSelectedRows, rowId];\n      }\n\n      return prevSelectedRows.filter((selectedRow) => selectedRow !== rowId);\n    });\n  };\n\n  const handleClearSelected = () => {\n    setSelectedRows([]);\n  };\n\n  const handleSelectAll = (event) => {\n    if (event.target.checked) {\n      setSelectedRows(rows.map((row) => row.id));\n      return;\n    }\n\n    handleClearSelected();\n  };\n\n  return [selectedRows, handleSelect, handleSelectAll];\n};\n","import { useState } from 'react';\n\nconst blankFilter = {\n  property: {\n    name: '',\n    type: ''\n  },\n  operator: {\n    value: '',\n    typesAccepted: []\n  },\n  value: ''\n};\n\nexport const useFilters = (properties, operators, initialFilters = []) => {\n  const [filters, setFilters] = useState(() => (initialFilters?.length\n    ? initialFilters\n    : [blankFilter]));\n\n  let shouldApplyFilters = true;\n\n  for (let i = 0; i < filters.length; i++) {\n    if (!filters[i].property.name\n      || !filters[i].operator.value\n      || (!filters[i].operator.typesAccepted.includes('blank')\n        && !filters[i].value)) {\n      shouldApplyFilters = false;\n      break;\n    }\n  }\n\n  const addFilter = (index) => {\n    if (!shouldApplyFilters) {\n      return;\n    }\n\n    const temp = [...filters];\n    temp.splice(index, 0, blankFilter);\n    setFilters(temp);\n  };\n\n  const clearFilters = () => {\n    setFilters([blankFilter]);\n  };\n\n  const removeFilter = (index) => {\n    if (filters.length === 1) {\n      clearFilters();\n      return;\n    }\n\n    setFilters((prevFilters) => prevFilters.filter((_, _index) => _index !== index));\n  };\n\n  const handlePropertyChange = (filterIndex, selectedPropertyName) => {\n    const temp = [...filters];\n    const selectedProperty = properties.find((property) => property.name === selectedPropertyName);\n\n    temp[filterIndex] = {\n      property: selectedProperty,\n      operator: {\n        value: '',\n        typesAccepted: []\n      },\n      value: ''\n    };\n\n    setFilters(temp);\n  };\n\n  const handleOperatorChange = (filterIndex, selectedOperatorValue) => {\n    const temp = [...filters];\n    const selectedOperator = operators.find((operator) => operator.value === selectedOperatorValue);\n\n    temp[filterIndex] = {\n      ...temp[filterIndex],\n      operator: selectedOperator\n    };\n\n    setFilters(temp);\n  };\n\n  const handleValueChange = (filterIndex, value) => {\n    const temp = [...filters];\n\n    temp[filterIndex] = {\n      ...temp[filterIndex],\n      value\n    };\n\n    setFilters(temp);\n  };\n\n  return {\n    addFilter,\n    clearFilters,\n    filters,\n    handlePropertyChange,\n    handleOperatorChange,\n    handleValueChange,\n    removeFilter,\n    shouldApplyFilters\n  };\n};\n","import PropTypes from 'prop-types';\nimport { Button, Grid, MenuItem, Typography } from '@material-ui/core';\nimport { Plus as PlusIcon } from '../icons/plus';\nimport { DateField } from './date-field';\nimport { InputField } from './input-field';\n\nexport const FilterDialogItem = (props) => {\n  const {\n    properties,\n    filter,\n    index,\n    onAddFilter,\n    onRemoveFilter,\n    onPropertyChange,\n    onOperatorChange,\n    onValueChange,\n    operators\n  } = props;\n\n  return (\n    <div>\n      <Typography\n        color=\"textSecondary\"\n        sx={{ mb: 1 }}\n        variant=\"caption\"\n      >\n        Where\n      </Typography>\n      <Grid\n        container\n        spacing={2}\n        sx={{ pb: 1 }}\n      >\n        <Grid\n          item\n          xs={6}\n        >\n          <InputField\n            fullWidth\n            onChange={(event) => onPropertyChange(index, event.target.value)}\n            select\n            value={filter.property.name}\n          >\n            {properties.map((property) => (\n              <MenuItem\n                key={property.name}\n                value={property.name}\n              >\n                {property.label}\n              </MenuItem>\n            ))}\n          </InputField>\n        </Grid>\n        <Grid\n          item\n          xs={6}\n        >\n          <InputField\n            fullWidth\n            value={filter.operator.value}\n            select\n            onChange={(event) => onOperatorChange(index, event.target.value)}\n          >\n            {operators\n              .filter((operator) => (operator.typesAccepted.includes(filter.property.type)\n                || operator.typesAccepted.includes('blank')))\n              .map((operator) => (\n                <MenuItem\n                  key={operator.value}\n                  value={operator.value}\n                >\n                  {operator.label}\n                </MenuItem>\n              ))}\n          </InputField>\n        </Grid>\n        {!filter.operator.typesAccepted.includes('blank')\n        && (filter.operator.typesAccepted.includes('date')\n          ? (\n            <Grid\n              item\n              xs={12}\n            >\n              <DateField\n                fullWidth\n                onChange={(date) => onValueChange(index, date)}\n                value={filter.value}\n              />\n            </Grid>\n          )\n          : (\n            <Grid\n              item\n              xs={12}\n            >\n              <InputField\n                fullWidth\n                onChange={(event) => onValueChange(index, event.target.value)}\n                value={filter.value}\n              />\n            </Grid>\n          ))}\n      </Grid>\n      <Button\n        color=\"primary\"\n        onClick={() => onAddFilter(index + 1)}\n        size=\"small\"\n        startIcon={<PlusIcon />}\n        sx={{ mr: 2 }}\n        variant=\"text\"\n      >\n        Add Filter\n      </Button>\n      <Button\n        onClick={() => onRemoveFilter(index)}\n        size=\"small\"\n        sx={{ color: 'text.secondary' }}\n        variant=\"text\"\n      >\n        Remove\n      </Button>\n    </div>\n  );\n};\n\nFilterDialogItem.propTypes = {\n  properties: PropTypes.array,\n  filter: PropTypes.object,\n  index: PropTypes.number,\n  onAddFilter: PropTypes.func,\n  onRemoveFilter: PropTypes.func,\n  onPropertyChange: PropTypes.func,\n  onOperatorChange: PropTypes.func,\n  onValueChange: PropTypes.func,\n  operators: PropTypes.array\n};\n","import { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  IconButton,\n  Typography\n} from '@material-ui/core';\nimport { useFilters } from '../hooks/use-filters';\nimport { X as XIcon } from '../icons/x';\nimport { FilterDialogItem } from './filter-dialog-item';\n\nexport const FilterDialog = (props) => {\n  const { open, onClose, operators, properties, onApply, onClear, ...other } = props;\n  const {\n    addFilter,\n    clearFilters,\n    filters,\n    handleOperatorChange,\n    handlePropertyChange,\n    handleValueChange,\n    removeFilter\n  } = useFilters(properties, operators);\n\n  const handleFiltersClear = () => {\n    clearFilters();\n    onClear?.();\n    onClose?.();\n  };\n\n  return (\n    <Dialog\n      onClose={onClose}\n      open={open}\n      PaperProps={{\n        sx: {\n          maxWidth: 500,\n          width: '100%'\n        }\n      }}\n      {...other}\n    >\n      <DialogTitle\n        sx={{\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          display: 'flex'\n        }}\n      >\n        <Typography\n          color=\"textPrimary\"\n          variant=\"inherit\"\n        >\n          Filter\n        </Typography>\n        <IconButton\n          onClick={onClose}\n          size=\"small\"\n        >\n          <XIcon\n            fontSize=\"small\"\n            sx={{ color: 'text.primary' }}\n          />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent>\n        {filters.map((filter, index) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <Fragment key={index}>\n            <FilterDialogItem\n              filter={filter}\n              index={index}\n              onAddFilter={addFilter}\n              onRemoveFilter={removeFilter}\n              onOperatorChange={handleOperatorChange}\n              onPropertyChange={handlePropertyChange}\n              onValueChange={handleValueChange}\n              operators={operators}\n              properties={properties}\n            />\n            {filters.length > index + 1 && (\n              <Divider\n                sx={{\n                  my: 2,\n                  '& .MuiDivider-wrapper': {\n                    p: 0\n                  }\n                }}\n                textAlign=\"left\"\n              >\n                <Chip\n                  color=\"primary\"\n                  label=\"AND\"\n                  size=\"small\"\n                />\n              </Divider>\n            )}\n          </Fragment>\n        ))}\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"error\"\n          onClick={handleFiltersClear}\n          variant=\"text\"\n        >\n          Reset\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={() => {\n            onApply?.(filters);\n            onClose?.();\n          }}\n          variant=\"contained\"\n        >\n          Filter\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nFilterDialog.defaultProps = {\n  open: false\n};\n\nFilterDialog.propTypes = {\n  onApply: PropTypes.func,\n  onClear: PropTypes.func,\n  onClose: PropTypes.func,\n  open: PropTypes.bool,\n  operators: PropTypes.array.isRequired,\n  properties: PropTypes.array.isRequired\n};\n","import { createSvgIcon } from '@material-ui/core/utils';\n\nexport const Search = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Search'\n);\n","import { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { InputBase } from '@material-ui/core';\nimport { styled } from '@material-ui/core/styles';\nimport { Search as SearchIcon } from '../icons/search';\n\nconst QueryRoot = styled('div')((({ theme }) => ({\n  alignItems: 'center',\n  backgroundColor: 'background.paper',\n  border: `1px solid ${theme.palette.divider}`,\n  borderRadius: theme.shape.borderRadius,\n  display: 'flex',\n  height: 42,\n  width: '100%'\n})));\n\nexport const Query = (props) => {\n  const { disabled, onChange, value, ...other } = props;\n  const [autoFocus, setAutoFocus] = useState(false);\n  const inputRef = useRef(null);\n  const [tempValue, setTempValue] = useState('');\n\n  useEffect(() => {\n    setTempValue(value);\n  }, [value]);\n\n  useEffect(() => {\n    if (!disabled && autoFocus && inputRef?.current) {\n      inputRef.current.focus();\n    }\n  }, [disabled]);\n\n  const handleChange = (event) => {\n    setTempValue(event.target.value);\n  };\n\n  const handleKeyup = (event) => {\n    if (event.keyCode === 13 && onChange) {\n      onChange(tempValue);\n    }\n  };\n\n  const handleFocus = () => {\n    setAutoFocus(true);\n  };\n\n  const handleBlur = (event) => {\n    /*\n     There is a situation where an input goes from not disabled to disabled and DOM emits a blur\n     event, with event as undefined. This means, that sometimes we'll receive an React Synthetic\n     event and sometimes undefined because when DOM triggers the event, React is unaware of it,\n     or it simply does not emit the event. To bypass this behaviour, we store a local variable\n     that acts as autofocus.\n     */\n\n    if (event) {\n      setAutoFocus(false);\n    }\n  };\n\n  return (\n    <QueryRoot {...other}>\n      <SearchIcon\n        sx={{\n          color: 'text.secondary',\n          ml: 2,\n          mr: 1\n        }}\n        fontSize=\"small\"\n      />\n      <InputBase\n        disabled={disabled}\n        inputProps={{\n          ref: inputRef,\n          sx: {\n            p: 0.75,\n            '&::placeholder': {\n              color: 'text.secondary',\n              opacity: 1\n            }\n          }\n        }}\n        onBlur={handleBlur}\n        onChange={handleChange}\n        onFocus={handleFocus}\n        onKeyUp={handleKeyup}\n        placeholder=\"Search...\"\n        sx={{ flex: 1 }}\n        value={tempValue}\n      />\n    </QueryRoot>\n  );\n};\n\nQuery.defaultProps = {\n  value: ''\n};\n\nQuery.propTypes = {\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  value: PropTypes.string\n};\n"],"sourceRoot":""}